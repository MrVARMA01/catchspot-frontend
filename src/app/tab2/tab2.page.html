<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-button slot="start" shape="round" fill="clear" (click)="openModal()">
      <ion-icon slot="icon-only" name="search"></ion-icon>
    </ion-button>
    <ion-button class="toolbar-button" fill="clear" slot="end" shape="round" routerLink="/scan">
      <i class="fa-solid fa-qrcode fa-lg" slot="icon-only" style="color: #6030ff;"></i>
    </ion-button>
  </ion-toolbar>
</ion-header> -->
<ion-content [fullscreen]="true">
  <swiper-container class="mySwiper">
    <swiper-slide>
      <ion-header [translucent]="true">
        <ion-toolbar>
          <ion-button slot="start" shape="round" fill="clear" (click)="openModal()">
            <ion-icon slot="icon-only" name="search"></ion-icon>
          </ion-button>
          <ion-title mode="ios">
            <ion-chip [outline]="true" color="tertiary">Public</ion-chip>
          </ion-title>          
          <ion-button class="toolbar-button" fill="clear" slot="end" shape="round" routerLink="/scan">
            <i class="fa-solid fa-qrcode fa-lg" slot="icon-only" style="color: #6030ff;"></i>
          </ion-button>
        </ion-toolbar>
      </ion-header>
      <ion-grid>
        <ion-row>
          <ion-col size="12" *ngFor="let post of posts">
            <ion-card>
              <img class="card-image" src="{{baseUrl}}{{post.fileUrl}}" alt="">
              <ion-item class="card-desc" lines="none">
                <div class="card-location card-desc-item profile-item" slot="start">
                  <ion-thumbnail class="card-desc-item">
                    <div class="card-profile">
                      <img class="card-profile-pic" alt="Silhouette of mountains" src="{{baseUrl}}{{post.fileUrl}}" />
                    </div>
                  </ion-thumbnail>
                </div>
                <div slot="end" class="card-desc-item star-button" style="flex-direction: column;">
                  <h6>1M</h6>
                  <button class="rating-button" shape="round">
                    <i class="fa-solid fa-star star" slot="icon-only"></i>
                  </button>
                </div>
              </ion-item>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </swiper-slide>
    <swiper-slide>
      <ion-header [translucent]="true">
        <ion-toolbar>
          <ion-button slot="start" shape="round" fill="clear" (click)="openModal()">
            <ion-icon slot="icon-only" name="search"></ion-icon>
          </ion-button>
          <ion-title mode="ios">
            <ion-chip [outline]="true" color="tertiary">Connects</ion-chip>
          </ion-title>                    
          <ion-button class="toolbar-button" fill="clear" slot="end" shape="round" routerLink="/scan">
            <i class="fa-solid fa-qrcode fa-lg" slot="icon-only" style="color: #6030ff;"></i>
          </ion-button>
        </ion-toolbar>
      </ion-header>
      <ion-grid>
        <ion-row>
          <ion-col size="12" *ngFor="let post of connectsPosts">
            <ion-card>
              <img class="card-image" src="{{baseUrl}}{{post.fileUrl}}" alt="">
              <ion-item class="card-desc" lines="none">
                <div class="card-location card-desc-item" slot="start">
                  <ion-thumbnail class="card-desc-item">
                    <div class="card-profile">
                      <img class="card-profile-pic" alt="Silhouette of mountains" src="{{baseUrl}}{{post.fileUrl}}" />
                    </div>
                  </ion-thumbnail>
                </div>
                <div slot="end" class="card-desc-item star-button">
                  <ion-button fill="clear" shape="round">
                    <ion-icon class="star" color="warning" slot="icon-only" name="star"></ion-icon>
                  </ion-button>
                </div>
              </ion-item>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </swiper-slide>
  </swiper-container>



  <ion-modal [isOpen]="isModalOpen" [initialBreakpoint]="1" [breakpoints]="[0, 0.25, 0.5, 0.75,1]"
    (ionModalDidClose)="closeModal()" [backdropDismiss]="true">
    <ng-container>
      <!-- Modal Template -->
      <ng-template #searchModal>
        <ion-header class="search-connects-header">
          <ion-toolbar class="search-connects-toolbar" color="tertiary">
            <ion-title color="light">Search</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="closeModal()"><ion-icon name="close" color="light"></ion-icon></ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="search-content" color="tertiary">
          <ion-searchbar placeholder="Search"></ion-searchbar>
          <ion-list class="search-item-list" color="tertiary">
            <ion-item class="search-item" *ngFor="let user of users">
              <ion-avatar slot="start" (click)="routeToProfile(user.userId)">
                <ion-img *ngIf="user.profilePic" src="{{user.profilePic}}"></ion-img>
                <ion-img *ngIf="!user.profilePic && user.gender === 'MALE'" src="./assets/profile pics/man_4140061.png"></ion-img>
                <ion-img *ngIf="!user.profilePic && user.gender === 'FEMALE'" src="./assets/profile pics/woman_4140047.png"></ion-img>
              </ion-avatar>
              <ion-label (click)="routeToProfile(user.userId)">
                <h2>{{user.firstName}} {{user.lastName}}</h2>
                <p>{{user.connects.length}} connects</p>
              </ion-label>
              <ion-button class="connect-button" color="danger" (click)="requestConnect(user.userId)" shape="round">
                <h6>connect</h6>
              </ion-button>
            </ion-item>
            <!-- More items here -->
          </ion-list>
        </ion-content>
      </ng-template>
    </ng-container>
  </ion-modal>
</ion-content>